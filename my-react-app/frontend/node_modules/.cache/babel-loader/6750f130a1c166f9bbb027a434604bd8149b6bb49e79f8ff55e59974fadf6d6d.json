{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIGABYTE\\\\\\u0E40\\u0E14\\u0E2A\\u0E01\\u0E4C\\u0E17\\u0E47\\u0E2D\\u0E1B\\\\JOB-thaipbs\\\\my-react-app\\\\frontend\\\\src\\\\components\\\\ProductManagement.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Plus, Edit, Trash2, Search, X, Image as ImageIcon, Save, ChevronLeft, ChevronRight, Package } from \"lucide-react\";\nimport \"./ProductManagement.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ITEMS_PER_PAGE = 10;\nconst ProductManagement = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState(\"products\"); // 'products' or 'categories'\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const initialFormState = {\n    ProductID: null,\n    ProductName: \"\",\n    ProductCode: \"\",\n    Price: \"\",\n    Quantity: \"\",\n    Description: \"\",\n    Image: \"\",\n    CategoryID: \"\"\n  };\n  const [formData, setFormData] = useState(initialFormState);\n\n  // State for Categories CRUD\n  const [categories, setCategories] = useState([]);\n  const [newCategoryName, setNewCategoryName] = useState(\"\");\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\n  const [editingCategoryName, setEditingCategoryName] = useState(\"\");\n  const [isAddingCategory, setIsAddingCategory] = useState(false);\n\n  // Pagination State\n  const [currentPage, setCurrentPage] = useState(1);\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(\"/api/products\");\n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n      }\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(\"/api/product-categories\");\n      if (response.ok) {\n        setCategories(await response.json());\n      }\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  };\n\n  // Clear search term when switching tabs\n  useEffect(() => {\n    setSearchTerm(\"\");\n    setCurrentPage(1);\n  }, [activeTab]);\n\n  // Reset page when search term changes\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm]);\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          Image: reader.result\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const url = isEditing ? `/api/products/${formData.ProductID}` : \"/api/products\";\n    const method = isEditing ? \"PUT\" : \"POST\";\n    try {\n      const response = await fetch(url, {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (response.ok) {\n        alert(isEditing ? \"แก้ไขสินค้าสำเร็จ\" : \"เพิ่มสินค้าสำเร็จ\");\n        fetchProducts();\n        resetForm();\n      } else {\n        alert(\"เกิดข้อผิดพลาด\");\n      }\n    } catch (error) {\n      console.error(\"Error saving product:\", error);\n    }\n  };\n  const handleEdit = product => {\n    setFormData({\n      ...product,\n      CategoryID: product.CategoryID || \"\"\n    });\n    setIsEditing(true);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (window.confirm(\"คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?\")) {\n      try {\n        const response = await fetch(`/api/products/${id}`, {\n          method: \"DELETE\"\n        });\n        if (response.ok) {\n          fetchProducts();\n        }\n      } catch (error) {\n        console.error(\"Error deleting product:\", error);\n      }\n    }\n  };\n  const resetForm = () => {\n    setFormData(initialFormState);\n    setIsEditing(false);\n    setShowForm(false);\n  };\n  const filteredProducts = products.filter(p => p.ProductName.toLowerCase().includes(searchTerm.toLowerCase()) || p.ProductCode.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  // Pagination Logic\n  const indexOfLastItem = currentPage * ITEMS_PER_PAGE;\n  const indexOfFirstItem = indexOfLastItem - ITEMS_PER_PAGE;\n  const currentProducts = filteredProducts.slice(indexOfFirstItem, indexOfLastItem);\n  const totalPages = Math.ceil(filteredProducts.length / ITEMS_PER_PAGE);\n  const filteredCategories = categories.filter(cat => cat.CategoryName.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  // --- Category CRUD Handlers ---\n  const handleAddCategory = async () => {\n    if (!newCategoryName.trim() || isAddingCategory) return;\n    setIsAddingCategory(true);\n    try {\n      const res = await fetch(\"/api/product-categories\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          CategoryName: newCategoryName\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setNewCategoryName(\"\");\n        fetchCategories();\n      } else {\n        alert(data.message || \"เกิดข้อผิดพลาดในการเพิ่มหมวดหมู่\");\n      }\n    } catch (error) {\n      console.error(\"Error adding category:\", error);\n      alert(\"ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้\");\n    } finally {\n      setIsAddingCategory(false);\n    }\n  };\n  const handleUpdateCategory = async id => {\n    if (!editingCategoryName.trim()) return;\n    try {\n      const res = await fetch(`/api/product-categories/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          CategoryName: editingCategoryName\n        })\n      });\n      if (res.ok) {\n        setEditingCategoryId(null);\n        setEditingCategoryName(\"\");\n        fetchCategories();\n      }\n    } catch (error) {\n      console.error(\"Error updating category:\", error);\n    }\n  };\n  const handleDeleteCategory = async id => {\n    if (!window.confirm(\"ยืนยันการลบหมวดหมู่นี้?\")) return;\n    try {\n      const res = await fetch(`/api/product-categories/${id}`, {\n        method: \"DELETE\"\n      });\n      if (res.ok) {\n        fetchCategories();\n      }\n    } catch (error) {\n      console.error(\"Error deleting category:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pm-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(Package, {\n          className: \"header-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), !showForm && activeTab === \"products\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-add\",\n        onClick: () => setShowForm(true),\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), \" \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E43\\u0E2B\\u0E21\\u0E48\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === \"products\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"products\"),\n        children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === \"categories\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"categories\"),\n        children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), activeTab === \"products\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: showForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-form-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: isEditing ? \"แก้ไขสินค้า\" : \"เพิ่มสินค้าใหม่\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-close\",\n            onClick: resetForm,\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"ProductName\",\n                value: formData.ProductName,\n                onChange: handleInputChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"ProductCode\",\n                value: formData.ProductCode,\n                onChange: handleInputChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"CategoryID\",\n                value: formData.CategoryID,\n                onChange: handleInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48 --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cat.CategoryID,\n                  children: cat.CategoryName\n                }, cat.CategoryID, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E23\\u0E32\\u0E04\\u0E32 (\\u0E1A\\u0E32\\u0E17)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"Price\",\n                value: formData.Price,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E07\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"Quantity\",\n                value: formData.Quantity,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"Description\",\n                rows: \"3\",\n                value: formData.Description,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-upload-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"product-image\",\n                  className: \"image-upload-label\",\n                  children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formData.Image ? \"เปลี่ยนรูปภาพ\" : \"อัปโหลดรูปภาพ\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  id: \"product-image\",\n                  accept: \"image/*\",\n                  onChange: handleImageChange,\n                  hidden: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this), formData.Image && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: formData.Image,\n                  alt: \"Preview\",\n                  className: \"image-preview-box\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-cancel\",\n              onClick: resetForm,\n              children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-save\",\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this), \" \\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18,\n            className: \"search-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E14\\u0E49\\u0E27\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"product-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E04\\u0E07\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  className: \"text-center\",\n                  children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this) : filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  className: \"text-center\",\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 23\n              }, this) : currentProducts.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: product.Image || \"https://via.placeholder.com/50\",\n                    alt: product.ProductName,\n                    className: \"product-thumb\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: product.ProductCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: product.CategoryName || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: product.ProductName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Number(product.Price).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `badge ${product.Quantity > 0 ? \"success\" : \"danger\"}`,\n                    children: product.Quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon edit\",\n                      onClick: () => handleEdit(product),\n                      children: /*#__PURE__*/_jsxDEV(Edit, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon delete\",\n                      onClick: () => handleDelete(product.ProductID),\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 27\n                }, this)]\n              }, product.ProductID, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 15\n        }, this), filteredProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n            disabled: currentPage === 1,\n            className: \"page-btn\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"page-info\",\n            children: [\"\\u0E2B\\u0E19\\u0E49\\u0E32 \", currentPage, \" \\u0E08\\u0E32\\u0E01 \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentPage(prev => Math.min(prev + 1, totalPages)),\n            disabled: currentPage === totalPages,\n            className: \"page-btn\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, void 0, false), activeTab === \"categories\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"crud-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crud-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"crud-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar mini\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 18,\n              className: \"search-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newCategoryName,\n              onChange: e => setNewCategoryName(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && handleAddCategory(),\n              placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E43\\u0E2B\\u0E21\\u0E48...\",\n              disabled: isAddingCategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add-mini\",\n              onClick: handleAddCategory,\n              disabled: isAddingCategory || !newCategoryName.trim(),\n              children: [isAddingCategory ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-mini\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 21\n              }, this), \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"product-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredCategories.map(cat => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: \"50px\"\n                },\n                children: cat.CategoryID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: editingCategoryId === cat.CategoryID ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingCategoryName,\n                  onChange: e => setEditingCategoryName(e.target.value),\n                  className: \"edit-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 25\n                }, this) : cat.CategoryName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: \"100px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: editingCategoryId === cat.CategoryID ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon save\",\n                      onClick: () => handleUpdateCategory(cat.CategoryID),\n                      children: /*#__PURE__*/_jsxDEV(Save, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 574,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon cancel\",\n                      onClick: () => setEditingCategoryId(null),\n                      children: /*#__PURE__*/_jsxDEV(X, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon edit\",\n                      onClick: () => {\n                        setEditingCategoryId(cat.CategoryID);\n                        setEditingCategoryName(cat.CategoryName);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Edit, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 592,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-icon delete\",\n                      onClick: () => handleDeleteCategory(cat.CategoryID),\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 600,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this)]\n            }, cat.CategoryID, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductManagement, \"m4ify4yWa39cLQaQlUL5wwrNpsc=\");\n_c = ProductManagement;\nexport default ProductManagement;\nvar _c;\n$RefreshReg$(_c, \"ProductManagement\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Edit","Trash2","Search","X","Image","ImageIcon","Save","ChevronLeft","ChevronRight","Package","jsxDEV","_jsxDEV","Fragment","_Fragment","ITEMS_PER_PAGE","ProductManagement","_s","activeTab","setActiveTab","products","setProducts","loading","setLoading","showForm","setShowForm","isEditing","setIsEditing","searchTerm","setSearchTerm","initialFormState","ProductID","ProductName","ProductCode","Price","Quantity","Description","CategoryID","formData","setFormData","categories","setCategories","newCategoryName","setNewCategoryName","editingCategoryId","setEditingCategoryId","editingCategoryName","setEditingCategoryName","isAddingCategory","setIsAddingCategory","currentPage","setCurrentPage","fetchProducts","response","fetch","ok","data","json","error","console","fetchCategories","handleInputChange","e","name","value","target","handleImageChange","file","files","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","preventDefault","url","method","headers","body","JSON","stringify","alert","resetForm","handleEdit","product","handleDelete","id","window","confirm","filteredProducts","filter","p","toLowerCase","includes","indexOfLastItem","indexOfFirstItem","currentProducts","slice","totalPages","Math","ceil","length","filteredCategories","cat","CategoryName","handleAddCategory","trim","res","message","handleUpdateCategory","handleDeleteCategory","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","onSubmit","type","onChange","required","map","rows","htmlFor","accept","hidden","src","alt","placeholder","colSpan","Number","toLocaleString","prev","max","disabled","min","onKeyDown","key","style","width","_c","$RefreshReg$"],"sources":["C:/Users/GIGABYTE/เดสก์ท็อป/JOB-thaipbs/my-react-app/frontend/src/components/ProductManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  Search,\r\n  X,\r\n  Image as ImageIcon,\r\n  Save,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Package,\r\n} from \"lucide-react\";\r\nimport \"./ProductManagement.css\";\r\n\r\nconst ITEMS_PER_PAGE = 10;\r\n\r\nconst ProductManagement = () => {\r\n  const [activeTab, setActiveTab] = useState(\"products\"); // 'products' or 'categories'\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  const initialFormState = {\r\n    ProductID: null,\r\n    ProductName: \"\",\r\n    ProductCode: \"\",\r\n    Price: \"\",\r\n    Quantity: \"\",\r\n    Description: \"\",\r\n    Image: \"\",\r\n    CategoryID: \"\",\r\n  };\r\n\r\n  const [formData, setFormData] = useState(initialFormState);\r\n\r\n  // State for Categories CRUD\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategoryName, setNewCategoryName] = useState(\"\");\r\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\r\n  const [editingCategoryName, setEditingCategoryName] = useState(\"\");\r\n  const [isAddingCategory, setIsAddingCategory] = useState(false);\r\n\r\n  // Pagination State\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/products\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setProducts(data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching products:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/product-categories\");\r\n      if (response.ok) {\r\n        setCategories(await response.json());\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  };\r\n\r\n  // Clear search term when switching tabs\r\n  useEffect(() => {\r\n    setSearchTerm(\"\");\r\n    setCurrentPage(1);\r\n  }, [activeTab]);\r\n\r\n  // Reset page when search term changes\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setFormData({ ...formData, Image: reader.result });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const url = isEditing\r\n      ? `/api/products/${formData.ProductID}`\r\n      : \"/api/products\";\r\n    const method = isEditing ? \"PUT\" : \"POST\";\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(isEditing ? \"แก้ไขสินค้าสำเร็จ\" : \"เพิ่มสินค้าสำเร็จ\");\r\n        fetchProducts();\r\n        resetForm();\r\n      } else {\r\n        alert(\"เกิดข้อผิดพลาด\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saving product:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (product) => {\r\n    setFormData({ ...product, CategoryID: product.CategoryID || \"\" });\r\n    setIsEditing(true);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?\")) {\r\n      try {\r\n        const response = await fetch(`/api/products/${id}`, {\r\n          method: \"DELETE\",\r\n        });\r\n        if (response.ok) {\r\n          fetchProducts();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error deleting product:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData(initialFormState);\r\n    setIsEditing(false);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const filteredProducts = products.filter(\r\n    (p) =>\r\n      p.ProductName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      p.ProductCode.toLowerCase().includes(searchTerm.toLowerCase()),\r\n  );\r\n\r\n  // Pagination Logic\r\n  const indexOfLastItem = currentPage * ITEMS_PER_PAGE;\r\n  const indexOfFirstItem = indexOfLastItem - ITEMS_PER_PAGE;\r\n  const currentProducts = filteredProducts.slice(\r\n    indexOfFirstItem,\r\n    indexOfLastItem,\r\n  );\r\n  const totalPages = Math.ceil(filteredProducts.length / ITEMS_PER_PAGE);\r\n\r\n  const filteredCategories = categories.filter((cat) =>\r\n    cat.CategoryName.toLowerCase().includes(searchTerm.toLowerCase()),\r\n  );\r\n\r\n  // --- Category CRUD Handlers ---\r\n  const handleAddCategory = async () => {\r\n    if (!newCategoryName.trim() || isAddingCategory) return;\r\n\r\n    setIsAddingCategory(true);\r\n    try {\r\n      const res = await fetch(\"/api/product-categories\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ CategoryName: newCategoryName }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        setNewCategoryName(\"\");\r\n        fetchCategories();\r\n      } else {\r\n        alert(data.message || \"เกิดข้อผิดพลาดในการเพิ่มหมวดหมู่\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding category:\", error);\r\n      alert(\"ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้\");\r\n    } finally {\r\n      setIsAddingCategory(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateCategory = async (id) => {\r\n    if (!editingCategoryName.trim()) return;\r\n    try {\r\n      const res = await fetch(`/api/product-categories/${id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ CategoryName: editingCategoryName }),\r\n      });\r\n      if (res.ok) {\r\n        setEditingCategoryId(null);\r\n        setEditingCategoryName(\"\");\r\n        fetchCategories();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating category:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (id) => {\r\n    if (!window.confirm(\"ยืนยันการลบหมวดหมู่นี้?\")) return;\r\n    try {\r\n      const res = await fetch(`/api/product-categories/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (res.ok) {\r\n        fetchCategories();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting category:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-management\">\r\n      <div className=\"pm-header\">\r\n        <h2>\r\n          <Package className=\"header-icon\" />\r\n          จัดการข้อมูลสินค้า\r\n        </h2>\r\n        {!showForm && activeTab === \"products\" && (\r\n          <button className=\"btn-add\" onClick={() => setShowForm(true)}>\r\n            <Plus size={18} /> เพิ่มสินค้าใหม่\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"tabs-container\">\r\n        <button\r\n          className={`tab-btn ${activeTab === \"products\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"products\")}\r\n        >\r\n          รายการสินค้า\r\n        </button>\r\n        <button\r\n          className={`tab-btn ${activeTab === \"categories\" ? \"active\" : \"\"}`}\r\n          onClick={() => setActiveTab(\"categories\")}\r\n        >\r\n          หมวดหมู่สินค้า\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === \"products\" && (\r\n        <>\r\n          {showForm ? (\r\n            <div className=\"product-form-card\">\r\n              <div className=\"form-header\">\r\n                <h3>{isEditing ? \"แก้ไขสินค้า\" : \"เพิ่มสินค้าใหม่\"}</h3>\r\n                <button className=\"btn-close\" onClick={resetForm}>\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-grid\">\r\n                  <div className=\"form-group\">\r\n                    <label>ชื่อสินค้า</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"ProductName\"\r\n                      value={formData.ProductName}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>รหัสสินค้า</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"ProductCode\"\r\n                      value={formData.ProductCode}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>หมวดหมู่สินค้า</label>\r\n                    <select\r\n                      name=\"CategoryID\"\r\n                      value={formData.CategoryID}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <option value=\"\">-- เลือกหมวดหมู่ --</option>\r\n                      {categories.map((cat) => (\r\n                        <option key={cat.CategoryID} value={cat.CategoryID}>\r\n                          {cat.CategoryName}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>ราคา (บาท)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"Price\"\r\n                      value={formData.Price}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>จำนวนคงเหลือ</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"Quantity\"\r\n                      value={formData.Quantity}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group full-width\">\r\n                    <label>รายละเอียด</label>\r\n                    <textarea\r\n                      name=\"Description\"\r\n                      rows=\"3\"\r\n                      value={formData.Description}\r\n                      onChange={handleInputChange}\r\n                    ></textarea>\r\n                  </div>\r\n                  <div className=\"form-group full-width\">\r\n                    <label>รูปภาพสินค้า</label>\r\n                    <div className=\"image-upload-container\">\r\n                      <label\r\n                        htmlFor=\"product-image\"\r\n                        className=\"image-upload-label\"\r\n                      >\r\n                        <ImageIcon size={24} />\r\n                        <span>\r\n                          {formData.Image ? \"เปลี่ยนรูปภาพ\" : \"อัปโหลดรูปภาพ\"}\r\n                        </span>\r\n                      </label>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"product-image\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleImageChange}\r\n                        hidden\r\n                      />\r\n                      {formData.Image && (\r\n                        <img\r\n                          src={formData.Image}\r\n                          alt=\"Preview\"\r\n                          className=\"image-preview-box\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-cancel\"\r\n                    onClick={resetForm}\r\n                  >\r\n                    ยกเลิก\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn-save\">\r\n                    <Save size={18} /> บันทึก\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"search-bar\">\r\n                <Search size={18} className=\"search-icon\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"ค้นหาด้วยชื่อ หรือ รหัสสินค้า...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"table-container\">\r\n                <table className=\"product-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>รูปภาพ</th>\r\n                      <th>รหัสสินค้า</th>\r\n                      <th>หมวดหมู่</th>\r\n                      <th>ชื่อสินค้า</th>\r\n                      <th>ราคา</th>\r\n                      <th>คงเหลือ</th>\r\n                      <th>จัดการ</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {loading ? (\r\n                      <tr>\r\n                        <td colSpan=\"6\" className=\"text-center\">\r\n                          กำลังโหลด...\r\n                        </td>\r\n                      </tr>\r\n                    ) : filteredProducts.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"6\" className=\"text-center\">\r\n                          ไม่พบข้อมูลสินค้า\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      currentProducts.map((product) => (\r\n                        <tr key={product.ProductID}>\r\n                          <td>\r\n                            <img\r\n                              src={\r\n                                product.Image ||\r\n                                \"https://via.placeholder.com/50\"\r\n                              }\r\n                              alt={product.ProductName}\r\n                              className=\"product-thumb\"\r\n                            />\r\n                          </td>\r\n                          <td>{product.ProductCode}</td>\r\n                          <td>{product.CategoryName || \"-\"}</td>\r\n                          <td>{product.ProductName}</td>\r\n                          <td>{Number(product.Price).toLocaleString()}</td>\r\n                          <td>\r\n                            <span\r\n                              className={`badge ${product.Quantity > 0 ? \"success\" : \"danger\"}`}\r\n                            >\r\n                              {product.Quantity}\r\n                            </span>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"action-buttons\">\r\n                              <button\r\n                                className=\"btn-icon edit\"\r\n                                onClick={() => handleEdit(product)}\r\n                              >\r\n                                <Edit size={16} />\r\n                              </button>\r\n                              <button\r\n                                className=\"btn-icon delete\"\r\n                                onClick={() => handleDelete(product.ProductID)}\r\n                              >\r\n                                <Trash2 size={16} />\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination Controls */}\r\n              {filteredProducts.length > 0 && (\r\n                <div className=\"pagination\">\r\n                  <button\r\n                    onClick={() =>\r\n                      setCurrentPage((prev) => Math.max(prev - 1, 1))\r\n                    }\r\n                    disabled={currentPage === 1}\r\n                    className=\"page-btn\"\r\n                  >\r\n                    <ChevronLeft size={18} />\r\n                  </button>\r\n                  <span className=\"page-info\">\r\n                    หน้า {currentPage} จาก {totalPages}\r\n                  </span>\r\n                  <button\r\n                    onClick={() =>\r\n                      setCurrentPage((prev) => Math.min(prev + 1, totalPages))\r\n                    }\r\n                    disabled={currentPage === totalPages}\r\n                    className=\"page-btn\"\r\n                  >\r\n                    <ChevronRight size={18} />\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {activeTab === \"categories\" && (\r\n        <div className=\"crud-section\">\r\n          <div className=\"crud-header\">\r\n            <div className=\"crud-controls\">\r\n              <div className=\"search-bar mini\">\r\n                <Search size={18} className=\"search-icon\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"ค้นหาหมวดหมู่...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"add-row\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={newCategoryName}\r\n                  onChange={(e) => setNewCategoryName(e.target.value)}\r\n                  onKeyDown={(e) => e.key === \"Enter\" && handleAddCategory()}\r\n                  placeholder=\"ชื่อหมวดหมู่ใหม่...\"\r\n                  disabled={isAddingCategory}\r\n                />\r\n                <button\r\n                  className=\"btn-add-mini\"\r\n                  onClick={handleAddCategory}\r\n                  disabled={isAddingCategory || !newCategoryName.trim()}\r\n                >\r\n                  {isAddingCategory ? (\r\n                    <div className=\"spinner-mini\" />\r\n                  ) : (\r\n                    <Plus size={16} />\r\n                  )}\r\n                  เพิ่ม\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"table-container\">\r\n            <table className=\"product-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>ชื่อหมวดหมู่</th>\r\n                  <th>จัดการ</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredCategories.map((cat) => (\r\n                  <tr key={cat.CategoryID}>\r\n                    <td style={{ width: \"50px\" }}>{cat.CategoryID}</td>\r\n                    <td>\r\n                      {editingCategoryId === cat.CategoryID ? (\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingCategoryName}\r\n                          onChange={(e) =>\r\n                            setEditingCategoryName(e.target.value)\r\n                          }\r\n                          className=\"edit-input\"\r\n                        />\r\n                      ) : (\r\n                        cat.CategoryName\r\n                      )}\r\n                    </td>\r\n                    <td style={{ width: \"100px\" }}>\r\n                      <div className=\"action-buttons\">\r\n                        {editingCategoryId === cat.CategoryID ? (\r\n                          <>\r\n                            <button\r\n                              className=\"btn-icon save\"\r\n                              onClick={() =>\r\n                                handleUpdateCategory(cat.CategoryID)\r\n                              }\r\n                            >\r\n                              <Save size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"btn-icon cancel\"\r\n                              onClick={() => setEditingCategoryId(null)}\r\n                            >\r\n                              <X size={16} />\r\n                            </button>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <button\r\n                              className=\"btn-icon edit\"\r\n                              onClick={() => {\r\n                                setEditingCategoryId(cat.CategoryID);\r\n                                setEditingCategoryName(cat.CategoryName);\r\n                              }}\r\n                            >\r\n                              <Edit size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"btn-icon delete\"\r\n                              onClick={() =>\r\n                                handleDeleteCategory(cat.CategoryID)\r\n                              }\r\n                            >\r\n                              <Trash2 size={16} />\r\n                            </button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}